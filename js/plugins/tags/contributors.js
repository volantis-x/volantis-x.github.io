const ContributorsJS={requestAPI:(r,t,e)=>{let a=5;!function n(){return new Promise(((o,s)=>{let l=0,i=setTimeout((()=>{0===l&&(l=2,i=null,s("请求超时"),0==a&&e())}),5e3);fetch(r).then((function(r){if(2!==l&&(clearTimeout(i),o(r),i=null,l=1),r.ok)return r.json();throw new Error("Network response was not ok.")})).then((function(r){a=0,t(r)})).catch((function(r){a>0?(a-=1,setTimeout((()=>{n()}),5e3)):e()}))}))}()},layout:r=>{const t=r.el;ContributorsJS.requestAPI(r.api,(function(e){t.querySelector(".loading-wrap").remove();var a="";(e||[]).forEach(((t,e)=>{var n='<div class="user-card">';n+='<a class="card-link" target="_blank" rel="external noopener noreferrer"',n+=' href="'+t.html_url+'">',n+='<img alt="'+t.login+'" src="'+(t.avatar_url||r.avatar)+'" onerror="errorImgAvatar(this)">',n+='<div class="name"><span>'+t.login+"</span></div>",n+="</a>",a+=n+="</div>"})),t.querySelector(".group-body").innerHTML=a}),(function(){try{t.querySelector(".loading-wrap svg").remove(),t.querySelector(".loading-wrap p").innerText("加载失败，请稍后重试。")}catch(r){}}))},start:()=>{const r=document.getElementsByClassName("contributorsjs-wrap");for(var t=0;t<r.length;t++){const a=r[t],n=a.getAttribute("api");if(null!=n){var e=new Object;e.el=a,e.api=n,e.class=a.getAttribute("class"),e.avatar=volantis.GLOBAL_CONFIG.default.avatar,ContributorsJS.layout(e)}}}};ContributorsJS.start();
//# sourceMappingURL=../../../maps/js/plugins/tags/contributors.js.map
